<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="Window-Target" content="_top" />
    <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" />
    <meta name="application-name" content="Ambassy" />
    <meta name="description" content="A tool for parkrun Regional Event Ambassadors (REAs) to visualise and manage event allocations. Upload CSV files to display events on a map with Voronoi territories showing Regional Event Ambassador support areas." />
    <meta name="keywords" content="parkrun, ambassadors, regional event ambassadors, event ambassadors, parkrun volunteers, event allocation, parkrun management, running community" />
    <meta name="robots" content="index, follow" />
    <meta name="author" content="Pete Johns" />
    <meta name="theme-color" content="#2b233d" />
    <meta
      name="msapplication-square150x150logo"
      content="https://johnsy.com/icons/mstile-150x150.png"
    />
    <meta
      name="msapplication-square310x310logo"
      content="https://johnsy.com/icons/mstile-310x310.png"
    />
    <meta
      name="msapplication-square70x70logo"
      content="https://johnsy.com/icons/mstile-70x70.png"
    />
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta
      name="msapplication-TileImage"
      content="https://johnsy.com/icons/mstile-144x144.png"
    />
    <meta
      name="msapplication-wide310x150logo"
      content="https://johnsy.com/icons/mstile-310x150.png"
    />
    <meta name="MSSmartTagsPreventParsing" content="TRUE" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Google Fonts - Atkinson Hyperlegible -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&display=swap"
      rel="stylesheet"
    />

    <!-- OpenGraph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Ambassy" />
    <meta property="og:title" content="Ambassy - A tool for parkrun ambassadors" />
    <meta property="og:description" content="A tool for parkrun Regional Event Ambassadors (REAs) to visualise and manage event allocations. Upload CSV files to display events on a map with Voronoi territories showing Regional Event Ambassador support areas." />
    <meta property="og:url" content="https://johnsy.com/ambassy/" />
    <meta property="og:image" content="https://johnsy.com/ambassy/ambassy-social-preview.png" />
    <meta property="og:image:alt" content="Ambassy showing parkrun event allocations on a map with Regional Event Ambassador (REA) territories" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:secure_url" content="https://johnsy.com/ambassy/ambassy-social-preview.png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@johnsyweb" />
    <meta name="twitter:title" content="Ambassy - A tool for parkrun ambassadors" />
    <meta name="twitter:description" content="A tool for parkrun Regional Event Ambassadors (REAs) to visualise and manage event allocations." />
    <meta name="twitter:image" content="https://johnsy.com/ambassy/ambassy-social-preview.png" />
    <meta name="twitter:image:alt" content="Ambassy showing parkrun event allocations on a map with Regional Event Ambassador (REA) territories" />

    <!-- Bluesky -->
    <meta name="bluesky:card" content="summary_large_image" />
    <meta name="bluesky:title" content="Ambassy - A tool for parkrun ambassadors" />
    <meta name="bluesky:description" content="A tool for parkrun Regional Event Ambassadors (REAs) to visualise and manage event allocations." />
    <meta name="bluesky:image" content="https://johnsy.com/ambassy/ambassy-social-preview.png" />

    <!-- Messaging Platform Optimizations -->
    <meta name="format-detection" content="telephone=no" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <link href="https://unpkg.com/leaflet/dist/leaflet.css" rel="stylesheet" />
    <link href="style.css" rel="stylesheet" />
    <link
      href="https://johnsy.com/assets/css/colors-dark.css"
      rel="alternate stylesheet"
      title="Dark"
    />
    <link
      href="https://johnsy.com/assets/css/colors-light.css"
      rel="stylesheet"
      title="Light"
    />
    <link
      href="https://johnsy.com/assets/css/style.css"
      rel="stylesheet"
    />
    <link
      rel="apple-touch-icon"
      sizes="114x114"
      href="https://johnsy.com/icons/apple-touch-icon-114x114.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="120x120"
      href="https://johnsy.com/icons/apple-touch-icon-120x120.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="144x144"
      href="https://johnsy.com/icons/apple-touch-icon-144x144.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="152x152"
      href="https://johnsy.com/icons/apple-touch-icon-152x152.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="57x57"
      href="https://johnsy.com/icons/apple-touch-icon-57x57.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="60x60"
      href="https://johnsy.com/icons/apple-touch-icon-60x60.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="72x72"
      href="https://johnsy.com/icons/apple-touch-icon-72x72.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="76x76"
      href="https://johnsy.com/icons/apple-touch-icon-76x76.png"
    />
    <link
      rel="Help"
      href="https://johnsy.com/about/"
      title="What is the point of this website?"
    />
    <link
      rel="icon"
      type="image/png"
      href="https://johnsy.com/icons/favicon-128.png"
      sizes="128x128"
    />
    <link
      rel="icon"
      type="image/png"
      href="https://johnsy.com/icons/favicon-16x16.png"
      sizes="16x16"
    />
    <link
      rel="icon"
      type="image/png"
      href="https://johnsy.com/icons/favicon-196x196.png"
      sizes="196x196"
    />
    <link
      rel="icon"
      type="image/png"
      href="https://johnsy.com/icons/favicon-32x32.png"
      sizes="32x32"
    />
    <link
      rel="icon"
      type="image/png"
      href="https://johnsy.com/icons/favicon-96x96.png"
      sizes="96x96"
    />
    <link
      rel="shortcut icon"
      title="pajIcon"
      href="https://johnsy.com/favicon.ico"
    />
    <link rel="Start" href="https://johnsy.com/" title="Back to the start" />
    <title>Ambassy - A tool for parkrun ambassadors</title>

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Ambassy",
      "description": "A tool for parkrun Regional Event Ambassadors (REAs) to visualise and manage event allocations. Upload CSV files to display events on a map with Voronoi territories showing Regional Event Ambassador support areas.",
      "url": "https://johnsy.com/ambassy/",
      "applicationCategory": "UtilityApplication",
      "operatingSystem": ["Windows", "macOS", "Linux", "Android", "iOS"],
      "browserRequirements": "Requires JavaScript. Works with modern browsers including Chrome, Firefox, Safari, and Edge.",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "author": {
        "@type": "Person",
        "name": "Pete Johns",
        "url": "https://johnsy.com"
      },
      "screenshot": "https://johnsy.com/ambassy/ambassy-social-preview.png",
      "datePublished": "2024-01-01",
      "dateModified": "2025-01-20"
    }
    </script>
  </head>
  <body>
    <div id="content">
      <h1>Ambassy</h1>
      <div id="introduction">
        <p>
          Ambassy is designed to help parkrun Regional Event Ambassadors (REAs) to
          allocate events.
        </p>
        <p>
          The tool allows you to upload a CSV file containing the names of the
          Event Ambassadors you support and the events they support. These files
          are processed in your browser and no data is sent to any servers. The
          soure code is available on
          <a href="https://github.com/johnsyweb/ambassy">GitHub</a>
          for inspection (and improvements are welcome).
        </p>
        <p>
          The tool will then display the events on a map and in a table. Each
          parkrun event is represented by a marker on the map. The markers are
          coloured according to the Event Ambassador allocated to the event.
          There is a Voronoi layer representing Regional Event Ambassadors. The table
          should be self-explanatory.
        </p>
        <img
          src="screenshot.png"
          alt="Screenshot of Ambassy"
          title="Screenshot of Ambassy"
          width="500" height="273"
           />
          <p>
            I found this useful (and a fun programming challenge) as an REA and I
            publish it in the hope you do too.
          </p>

        <div id="upload">
          <h2>Upload CSV Files</h2>
          <h3 id="uploadPrompt">Please upload your files here.</h3>
          <div id="storageWarning" style="display: none; color: #d32f2f; margin-top: 1em; padding: 0.5em; background-color: #ffebee; border-radius: 4px;"></div>
          <p>
            Sample CSV files are provided for you to download, inspect and populate:
            <ul>
              <li><a download="Ambassadors - Regional Ambassadors.csv" href="./Ambassadors - Regional Ambassadors.csv">Regional Event Ambassador (REA)</a></li>
              <li><a download="Ambassadors - Event Ambassadors.csv" href="./Ambassadors - Event Ambassadors.csv"> Event Ambassador (EA)</a></li>
              <li><a download="Ambassadors - Event Teams.csv" href="./Ambassadors - Event Teams.csv"> Event Teams</a></li>
            </ul>
          <input
            type="file"
            title="upload data"
            id="csvFileInput"
            accept=".csv"
            multiple
          />
          <button type="button" id="importButton" title="Import state">Import State</button>
          <input
            type="file"
            title="import state"
            id="importFileInput"
            accept=".json"
            style="display: none;"
          />
        </div>
      </div>
    </div>

    <div id="ambassy">
      <div id="mapContainer"></div>

      <div style="margin: 1em 0;">
        <button type="button" id="exportButtonMap" title="Export state">Export State</button>
        <button type="button" id="importButtonMap" title="Import state">Import State</button>
        <button type="button" id="addEventAmbassadorButton" title="Add Event Ambassador">Add Event Ambassador</button>
        <button type="button" id="addRegionalAmbassadorButton" title="Add Regional Ambassador">Add Regional Ambassador</button>
        <button type="button" id="purgeButton">Purge Data</button>
      </div>

      <div id="tabsContainer">
        <div class="tabs" role="tablist">
          <button class="tab-button active" role="tab" aria-selected="true" aria-controls="eventTeamsTab" id="eventTeamsTabButton" tabindex="0">Event Teams</button>
          <button class="tab-button" role="tab" aria-selected="false" aria-controls="eventAmbassadorsTab" id="eventAmbassadorsTabButton" tabindex="-1">Event Ambassadors</button>
          <button class="tab-button" role="tab" aria-selected="false" aria-controls="regionalAmbassadorsTab" id="regionalAmbassadorsTabButton" tabindex="-1">Regional Ambassadors</button>
          <button class="tab-button" role="tab" aria-selected="false" aria-controls="changesLogTab" id="changesLogTabButton" tabindex="-1">Changes Log</button>
        </div>

        <div id="eventTeamsTab" class="tab-content active" role="tabpanel" aria-labelledby="eventTeamsTabButton">
          <table id="eventTeamsTable" border="1">
            <thead>
              <tr>
                <th>Regional Event Ambassador (REA)</th>
                <th>Event Ambassador (EA)</th>
                <th>Event Name</th>
                <th>Event Director(s)</th>
                <th>Coordinates</th>
                <th title="E.g. 1 is 5km, open">Event Series</th>
                <th>Country</th>
              </tr>
            </thead>
            <tbody>
              <!-- Event team rows will be populated here -->
            </tbody>
          </table>
        </div>

        <div id="eventAmbassadorsTab" class="tab-content" role="tabpanel" aria-labelledby="eventAmbassadorsTabButton" hidden>
          <table id="eventAmbassadorsTable" border="1">
            <thead>
              <tr>
                <th>Name</th>
                <th>Events Assigned</th>
              </tr>
            </thead>
            <tbody>
              <!-- Event Ambassador rows will be populated here -->
            </tbody>
          </table>
        </div>

        <div id="regionalAmbassadorsTab" class="tab-content" role="tabpanel" aria-labelledby="regionalAmbassadorsTabButton" hidden>
          <table id="regionalAmbassadorsTable" border="1">
            <thead>
              <tr>
                <th>Name</th>
                <th>State</th>
                <th>Event Ambassadors Supported</th>
              </tr>
            </thead>
            <tbody>
              <!-- Regional Ambassador rows will be populated here -->
            </tbody>
          </table>
        </div>

        <div id="changesLogTab" class="tab-content" role="tabpanel" aria-labelledby="changesLogTabButton" hidden>
          <table id="changesTable" border="1">
            <thead>
              <tr>
                <th>Change Type</th>
                <th>Event Name</th>
                <th>Original Value</th>
                <th>New Value</th>
                <th>Timestamp</th>
              </tr>
            </thead>
            <tbody>
              <!-- Changes log rows will be populated here -->
            </tbody>
          </table>
        </div>
      </div>

    </div>

    <script src="bundle.js"></script>
  </body>
</html>
